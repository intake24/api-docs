<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Intake24 API reference</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Intake24 API reference</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#optional-type">Optional type</a></li>
<li><a href="#either-type">Either type</a></li>
</ul></li>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#signing-in-using-a-global-account">Signing in using a global account</a></li>
<li><a href="#signing-in-using-a-survey-alias">Signing in using a survey alias</a></li>
<li><a href="#signing-in-using-an-url-embedded-token">Signing in using an URL-embedded token</a></li>
<li><a href="#refreshing-the-access-token">Refreshing the access token</a></li>
<li><a href="#using-the-access-token">Using the access token</a></li>
</ul></li>
<li><a href="#content-management">Content management</a>
<ul>
<li><a href="#locales">Locales</a>
<ul>
<li><a href="#list-locales">List locales</a></li>
<li><a href="#get-locale-information">Get locale information</a></li>
</ul></li>
<li><a href="#food-lists">Food lists</a>
<ul>
<li><a href="#list-root-categories">List root categories</a></li>
<li><a href="#list-uncategorised-foods">List uncategorised foods</a></li>
<li><a href="#list-category-contents">List category contents</a></li>
<li><a href="#get-food-parent-categories">Get food parent categories</a></li>
<li><a href="#get-all-categories-that-contain-a-food-transitive">Get all categories that contain a food (transitive)</a></li>
<li><a href="#get-subcategory-parent-categories">Get subcategory parent categories</a></li>
<li><a href="#get-all-categories-that-contain-a-subcategory-transitive">Get all categories that contain a subcategory (transitive)</a></li>
<li><a href="#check-if-a-food-code-is-available">Check if a food code is available</a></li>
<li><a href="#get-a-food-record-global-local">Get a food record (global + local)</a></li>
<li><a href="#create-a-new-food-record-global">Create a new food record (global)</a></li>
<li><a href="#add-food-to-local-list">Add food to local list</a></li>
<li><a href="#create-a-new-food-record-local">Create a new food record (local)</a></li>
<li><a href="#create-a-new-food-record-with-automatically-generated-code-global">Create a new food record with automatically generated code (global)</a></li>
<li><a href="#clone-a-food-record">Clone a food record</a></li>
<li><a href="#clone-food-as-local">Clone food as local</a></li>
<li><a href="#update-main-food-record">Update main food record</a></li>
</ul></li>
<li><a href="#update-local-food-record">Update local food record</a>
<ul>
<li><a href="#delete-food-record">Delete food record</a></li>
<li><a href="#check-if-a-category-code-is-available">Check if a category code is available</a></li>
<li><a href="#get-a-category-record-global-local">Get a category record (global + local)</a></li>
<li><a href="#create-a-new-category-global">Create a new category (global)</a></li>
<li><a href="#update-a-category-record-global">Update a category record (global)</a></li>
<li><a href="#update-a-category-record-local">Update a category record (local)</a></li>
<li><a href="#delete-a-category-record">Delete a category record</a></li>
</ul></li>
<li><a href="#associated-foods">Associated foods</a>
<ul>
<li><a href="#get-associated-foods">Get associated foods</a></li>
<li><a href="#update-associated-foods">Update associated foods</a></li>
</ul></li>
<li><a href="#dietary-feedback-rules">Dietary feedback rules</a>
<ul>
<li><a href="#list-demographic-groups">List demographic groups</a></li>
<li><a href="#create-a-new-demographic-group">Create a new demographic group</a></li>
<li><a href="#update-a-demographic-group">Update a demographic group</a></li>
<li><a href="#get-demographic-group-data">Get demographic group data</a></li>
<li><a href="#delete-a-demographic-group">Delete a demographic group</a></li>
<li><a href="#create-a-demographic-group-scale-sector">Create a demographic group scale sector</a></li>
<li><a href="#update-demographic-group-scale-sector">Update demographic group scale sector</a></li>
<li><a href="#delete-demographic-group-scale-sector">Delete demographic group scale sector</a></li>
<li><a href="#get-henry-coefficitents">Get Henry coefficitents</a></li>
<li><a href="#get-physical-activity-levels">Get physical activity levels</a></li>
<li><a href="#get-weight-targets">Get weight targets</a></li>
</ul></li>
<li><a href="#food-composition-tables">Food composition tables</a>
<ul>
<li><a href="#list-food-composition-tables">List food composition tables</a></li>
<li><a href="#search-food-composition-table-records">Search food composition table records</a></li>
<li><a href="#list-internal-nutrient-types">List internal nutrient types</a></li>
</ul></li>
<li><a href="#food-groups">Food groups</a>
<ul>
<li><a href="#list-food-groups-for-locale">List food groups for locale</a></li>
<li><a href="#get-food-group-description">Get food group description</a></li>
</ul></li>
<li><a href="#source-high-resolution-image-management">Source (high resolution) image management</a>
<ul>
<li><a href="#list-source-images">List source images</a></li>
<li><a href="#upload-a-source-image">Upload a source image</a></li>
<li><a href="#upload-a-source-image-for-as-served">Upload a source image for as-served</a></li>
<li><a href="#upload-a-source-image-for-an-image-map">Upload a source image for an image map</a></li>
<li><a href="#update-a-source-image">Update a source image</a></li>
<li><a href="#delete-a-source-image">Delete a source image</a></li>
<li><a href="#process-source-image-for-portion-size-method-selection-screen">Process source image for portion size method selection screen</a></li>
</ul></li>
<li><a href="#portion-size-methods">Portion size methods</a>
<ul>
<li><a href="#list-as-served-image-sets">List as served image sets</a></li>
<li><a href="#get-as-served-set-record">Get as served set record</a></li>
<li><a href="#export-as-served-set-record-in-a-portable-format">Export as served set record in a portable format</a></li>
<li><a href="#import-as-served-set-record-from-a-portable-format">Import as served set record from a portable format</a></li>
<li><a href="#create-new-as-served-set">Create new as served set</a></li>
<li><a href="#create-new-as-served-set-from-existing-source-images">Create new as served set from existing source images</a></li>
<li><a href="#update-as-served-set">Update as served set</a></li>
<li><a href="#delete-as-served-set">Delete as served set</a></li>
</ul></li>
<li><a href="#data-consistency-checks">Data consistency checks</a>
<ul>
<li><a href="#check-food-record">Check food record</a></li>
<li><a href="#check-category-record">Check category record</a></li>
<li><a href="#check-category-recursively-including-all-subcategories-and-foods">Check category recursively (including all subcategories and foods)</a></li>
</ul></li>
<li><a href="#food-and-category-search">Food and category search</a>
<ul>
<li><a href="#category-quick-search">Category quick search</a></li>
<li><a href="#food-quick-search">Food quick search</a></li>
</ul></li>
<li><a href="#user-management">User management</a>
<ul>
<li><a href="#find-users">Find users</a></li>
<li><a href="#create-user">Create user</a></li>
<li><a href="#delete-user">Delete user</a></li>
<li><a href="#update-users-profile-name-e-mail-phone-etc.">Update user’s profile (name, e-mail, phone etc.)</a></li>
<li><a href="#update-users-password">Update user’s password</a></li>
<li><a href="#update-users-physical-data">Update user’s physical data</a></li>
<li><a href="#delete-multiple-users">Delete multiple users</a></li>
<li><a href="#request-password-reset">Request password reset</a></li>
<li><a href="#confirm-password-reset">Confirm password reset</a></li>
<li><a href="#list-surveys">List surveys</a></li>
<li><a href="#validate-survey-id">Validate survey ID</a></li>
<li><a href="#create-survey">Create survey</a></li>
<li><a href="#get-survey-data">Get survey data</a></li>
<li><a href="#update-survey">Update survey</a></li>
<li><a href="#delete-survey">Delete survey</a></li>
<li><a href="#add-roles-to-users-possibly-duplicated-no-relevance-to-survey">Add roles to users (possibly duplicated, no relevance to survey)</a></li>
<li><a href="#remove-roles-from-users-possibly-duplicated-no-relevance-to-survey">Remove roles from users (possibly duplicated, no relevance to survey)</a></li>
</ul></li>
<li><a href="#survey-user-management">Survey user management</a>
<ul>
<li><a href="#list-survey-staff-users">List survey staff users</a></li>
<li><a href="#create-or-update-staff-users">Create or update staff users</a></li>
<li><a href="#list-survey-respondent-users">List survey respondent users</a></li>
<li><a href="#create-or-update-respondent-users">Create or update respondent users</a></li>
<li><a href="#upload-respondent-users-from-csv">Upload respondent users from CSV</a></li>
<li><a href="#upload-notification-schedule-csv">Upload notification schedule CSV</a></li>
<li><a href="#delete-users-should-be-merged-with-global">Delete users (should be merged with global)</a></li>
<li><a href="#create-respondent-user-with-physical-profile-age-weight-etc.">Create respondent user with physical profile (age, weight etc.)</a></li>
</ul></li>
</ul></li>
<li><a href="#user-facing-food-data">User-facing food data</a>
<ul>
<li><a href="#food-search">Food search</a>
<ul>
<li><a href="#find-food-by-description-regular-foods">Find food by description (regular foods)</a></li>
<li><a href="#find-food-by-description-recipe-ingredients">Find food by description (recipe ingredients)</a></li>
<li><a href="#find-food-by-description-limit-to-specific-category">Find food by description (limit to specific category)</a></li>
<li><a href="#suggest-splitting-into-several-foods">Suggest splitting into several foods</a></li>
</ul></li>
<li><a href="#food-browsing">Food browsing</a>
<ul>
<li><a href="#list-root-categories-1">List root categories</a></li>
<li><a href="#get-category-contents">Get category contents</a></li>
</ul></li>
<li><a href="#portion-size-estimation">Portion size estimation</a>
<ul>
<li><a href="#get-food-data-portion-size-estimation-methods">Get food data (portion size estimation methods)</a></li>
<li><a href="#get-food-data-portion-size-estimation-methods-trace-data-source">Get food data (portion size estimation methods, trace data source)</a></li>
<li><a href="#get-brand-names">Get brand names</a></li>
<li><a href="#get-weight-type-in-portion-size-method-dummy">Get weight type-in portion size method (dummy)</a></li>
<li><a href="#get-as-served-image-set-data">Get as served image set data</a></li>
<li><a href="#get-multiple-as-served-image-sets-data">Get multiple as served image sets data</a></li>
<li><a href="#get-guide-image-data">Get guide image data</a></li>
<li><a href="#get-image-map-data">Get image map data</a></li>
<li><a href="#get-multiple-image-maps-data">Get multiple image maps data</a></li>
<li><a href="#get-drinkware-set-data">Get drinkware set data</a></li>
<li><a href="#get-associated-foods-manual">Get associated foods (manual)</a></li>
<li><a href="#get-associated-foods-automatic">Get associated foods (automatic)</a></li>
</ul></li>
<li><a href="#food-composition">Food composition</a>
<ul>
<li><a href="#get-food-composition-data">Get Food composition data</a></li>
</ul></li>
<li><a href="#dietary-feedback">Dietary feedback</a>
<ul>
<li><a href="#get-five-a-day-feedback-rules">Get five a day feedback rules</a></li>
<li><a href="#get-food-group-feedback-rules">Get food group feedback rules</a></li>
</ul></li>
</ul></li>
<li><a href="#user-profile-management">User profile management</a>
<ul>
<li><a href="#update-your-users-profile">Update your user’s profile</a></li>
<li><a href="#get-your-users-physical-data-age-weight-etc.">Get your user’s physical data (age, weight, etc.)</a></li>
<li><a href="#update-your-users-physical-data-age-weight-etc.">Update your user’s physical data (age, weight, etc.)</a></li>
</ul></li>
<li><a href="#analytics">Analytics</a>
<ul>
<li><a href="#ux-event-tracking">UX event tracking</a>
<ul>
<li><a href="#log-ux-event">Log UX event</a></li>
</ul></li>
<li><a href="#survey-data">Survey data</a>
<ul>
<li><a href="#get-survey-parameters-no-authentication-requred">Get survey parameters (no authentication requred)</a></li>
<li><a href="#get-dietary-feedback-style">Get dietary feedback style</a></li>
<li><a href="#get-survey-parameters-authentication-required">Get survey parameters (authentication required)</a></li>
<li><a href="#get-current-user-info">Get current user info</a></li>
<li><a href="#get-post-recall-actions">Get post-recall actions</a></li>
<li><a href="#generate-user-if-allowed">Generate user (if allowed)</a></li>
<li><a href="#submit-recall">Submit recall</a></li>
<li><a href="#request-phone-callback">Request phone callback</a></li>
</ul></li>
</ul></li>
<li><a href="#user-profile-management-1">User profile management</a>
<ul>
<li><a href="#update-your-users-profile-1">Update your user’s profile</a></li>
<li><a href="#get-your-users-physical-data-age-weight-etc.-1">Get your user’s physical data (age, weight, etc.)</a></li>
<li><a href="#update-your-users-physical-data-age-weight-etc.-1">Update your user’s physical data (age, weight, etc.)</a></li>
<li><a href="#user-sessions">User sessions</a>
<ul>
<li><a href="#get-server-side-session">Get server-side session</a></li>
<li><a href="#update-server-side-session">Update server-side session</a></li>
<li><a href="#delete-server-side-session">Delete server-side session</a></li>
</ul></li>
</ul></li>
<li><a href="#analytics-1">Analytics</a>
<ul>
<li><a href="#ux-event-tracking-1">UX event tracking</a>
<ul>
<li><a href="#log-ux-event-1">Log UX event</a></li>
</ul></li>
<li><a href="#client-side-error-logging">Client-side error logging</a>
<ul>
<li><a href="#submit-a-client-side-error-report">Submit a client-side error report</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h2 id="introduction">Introduction</h2>
<p>Intake24 API uses several data encoding conventions that are slightly different from what is usually encountered in other JSON-based APIs. These conventions are explained below and are used throughout the system.</p>
<h3 id="optional-type">Optional type</h3>
<p>Optional values are encoded as JSON arrays with either zero elements (when the value is not present):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="ot">[]</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">}</span></span></code></pre></div>
<p>or exactly one element (when the value is present):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">{</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;hello&quot;</span><span class="ot">]</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">}</span></span></code></pre></div>
<p>as opposed to the more popular convention of omitting the optional fields altogether in case the value is missing.</p>
<p>The reasoning behind such encoding is that optional types in Intake24 can form a part of a more complex type. For instance, a type which is either an optional string, or a number (see also the explanation of the Either type below) is encoded as follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="dt">&quot;optionalLeftOrRight&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="dv">0</span><span class="ot">,</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="ot">[]</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="ot">]</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="fu">}</span></span></code></pre></div>
<p>the missing left value could potentially be encoded as <span class="citation" data-cites="b">@b</span>{null}, but that would be inconsistent with the case where the optional value is a field and it would also make it impossible to tell which values are intended to be optional. Having an explicit optional value encoding allows to assume that no value can ever be <span class="citation" data-cites="b">@b</span>{null} and avoid unnecessary nullness checking and null pointer exceptions.</p>
<p>Another less practical reason for this encoding is that it would otherwise be impossible to encode a nested optional value as a field. In this example, “value” is an optional value that is present that wraps another optional value that is missing:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="ot">[]</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="ot">]</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="fu">}</span></span></code></pre></div>
<p>It would be impossible to encode the presence of the outer value using field omission if the inner value was missing.</p>
<p>Of course such types are unlikely to be used in practice, however they must still be possible to encode to ensure the robustness of the server-side automated JSON mapping system.</p>
<h3 id="either-type">Either type</h3>
<p>The Either type represents values with two possibilities, traditionally called left and right. The Either type is encoded as a JSON array of exactly 2 elements, where the first element is either 0 or 1. If the first element is 0, then the second element must be parsed as a value of the left type. If it is 1, then the second element must be parsed as the right type.</p>
<p>For instance, <strong>foodOrCategory</strong> could be either a food header or a category header. These types are incompatible and must be handled differently. If it is a food header (left type), it will be encoded as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">{</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="dt">&quot;foodOrCategory&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="dv">0</span><span class="ot">,</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="fu">{</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;FOOD001&quot;</span><span class="fu">,</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>      <span class="dt">&quot;englishDescription&quot;</span><span class="fu">:</span> <span class="st">&quot;Example food&quot;</span><span class="fu">,</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>      <span class="dt">&quot;localDescription&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>        <span class="st">&quot;Пример продукта&quot;</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>      <span class="dt">&quot;doNotUse&quot;</span><span class="fu">:</span> <span class="kw">false</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="fu">}</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="ot">]</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="fu">}</span></span></code></pre></div>
<p>and if it is a category header (right type) it will be encoded like this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="dt">&quot;foodOrCategory&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="dv">1</span><span class="ot">,</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="fu">{</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;CAT001&quot;</span><span class="fu">,</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>      <span class="dt">&quot;englishDescription&quot;</span><span class="fu">:</span> <span class="st">&quot;Example category&quot;</span><span class="fu">,</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>      <span class="dt">&quot;localDescription&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>      <span class="dt">&quot;isHidden&quot;</span><span class="fu">:</span> <span class="kw">false</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>    <span class="fu">}</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="ot">]</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="fu">}</span></span></code></pre></div>
<h2 id="authentication">Authentication</h2>
<p>Intake24 uses a two-stage authentication system that is based on two classes of authentication tokens called refresh and access tokens.</p>
<p><strong>Refresh tokens</strong> are issued through a credentials (i.e. user name and password) based authentication procedure. Refresh tokens are similar to the traditional API keys in that they are long-lived and must be stored securely by the API client for long-term use once the credentials have been authenticated.</p>
<p><strong>Access tokens</strong> are required to access the actual API endpoints. Access tokens are obtained by presenting a valid refresh token to the server. They are short-lived; the exact validity period depends on the server configuration but is typically 10 minutes up to 2 hours. They cannot be extended and a new token must be obtained if the previous one has expired.</p>
<p>See <a href="https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/" class="uri">https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/</a> for an in-depth explanation of the refresh/access token system.</p>
<h3 id="signing-in-using-a-global-account">Signing in using a global account</h3>
<p>To obtain a <em>refresh</em> token for a global system account (e.g. admin or survey staff), <code>POST</code> a sign in request to</p>
<p><code>/signin</code></p>
<p>with the following JSON body:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;john@smith.com&quot;</span><span class="fu">,</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;password123&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">}</span></span></code></pre></div>
<p>where</p>
<ul>
<li><em>email</em> is the user’s system-wide e-mail address</li>
<li><em>password</em> is the user’s password</li>
</ul>
<h5 id="response">Response</h5>
<ul>
<li><p><code>HTTP 200 OK</code>: successful authentication.</p>
<p>The body is a JSON object containing a single field, <em>refreshToken</em>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">{</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="dt">&quot;refreshToken&quot;</span><span class="fu">:</span> <span class="st">&quot;(refresh token in JWT format)&quot;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>NOTE:</strong> The application must cache the refresh token <strong>securely</strong> for long-term use.</p></li>
<li><p><code>HTTP 401 Unauthorized</code>: the provided credentials were not recognised.</p></li>
</ul>
<h3 id="signing-in-using-a-survey-alias">Signing in using a survey alias</h3>
<p>To obtain a <em>refresh</em> token for a survey respondent using their internal survey alias, <code>POST</code> a sign in request to</p>
<p><code>/signin/alias</code></p>
<p>with the following JSON body:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">{</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="dt">&quot;surveyId&quot;</span><span class="fu">:</span> <span class="st">&quot;my_survey&quot;</span><span class="fu">,</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="dt">&quot;userName&quot;</span><span class="fu">:</span> <span class="st">&quot;user1&quot;</span><span class="fu">,</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;password123&quot;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="fu">}</span></span></code></pre></div>
<p>where</p>
<ul>
<li><em>survey_id</em> is the survey id for the user that you are signing in as (user names are unique w.r.t individual surveys, but not system-wide).</li>
<li><em>username</em> is the survey user ID (does not have to be unique system-wide)</li>
<li><em>password</em> is the user’s password</li>
</ul>
<h5 id="response-1">Response</h5>
<ul>
<li><p><code>HTTP 200 OK</code>: successful authentication. The body is a JSON object containing a single field, <em>refreshToken</em>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">{</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="dt">&quot;refreshToken&quot;</span><span class="fu">:</span> <span class="st">&quot;(refresh token in JWT format)&quot;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>NOTE:</strong> The application must cache the refresh token <strong>securely</strong> for long-term use.</p></li>
<li><p><code>HTTP 401 Unauthorized</code>: the provided credentials were not recognised.</p></li>
</ul>
<h3 id="signing-in-using-an-url-embedded-token">Signing in using an URL-embedded token</h3>
<p>To obtain a <em>refresh</em> token for a survey respondent using the URL-embedded authentication token, <code>POST</code> a sign in request to</p>
<p><code>/signin/token/&lt;token&gt;</code></p>
<p>where</p>
<ul>
<li><em>token</em> is the user’s personal authentication token</li>
</ul>
<h5 id="response-2">Response</h5>
<ul>
<li><p><code>HTTP 200 OK</code>: successful authentication. The body is a JSON object containing a single field, <em>refreshToken</em>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="dt">&quot;refreshToken&quot;</span><span class="fu">:</span> <span class="st">&quot;(refresh token in JWT format)&quot;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>NOTE:</strong> The application must cache the refresh token securely for long-term use.</p></li>
<li><p><code>HTTP 401 Unauthorized</code>: the provided credentials were not recognised.</p></li>
</ul>
<h3 id="refreshing-the-access-token">Refreshing the access token</h3>
<p>To obtain a new <em>access</em> token, <code>POST</code> a refresh request to</p>
<p><code>/refresh</code></p>
<p>with an empty body and the value of a valid <em>refresh</em> token in the <code>X-Auth-Token</code> header.</p>
<h5 id="response-3">Response</h5>
<ul>
<li><p><code>HTTP 200 OK</code>: successful access token renewal.</p>
<p>The body is JSON object containing a single field, <em>accessToken</em>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">{</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="dt">&quot;accessToken&quot;</span><span class="fu">:</span> <span class="st">&quot;(access token in JWT format)&quot;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>NOTE</strong>: The application <strong>must cache and reuse</strong> the access token until it is rejected with the <code>HTTP 401 Unauthorized</code> code, in which case the application must request a new access token using this end-point and retry the affected request. Existing access tokens are automatically expired and do not need to be de-activated explicitly.</p></li>
<li><p><code>HTTP 401 Unauthorized</code>: the refresh token is missing or invalid.</p></li>
</ul>
<h3 id="using-the-access-token">Using the access token</h3>
<p>Any API request that requires authentication (nearly all of them at the moment) must include the access token exactly as returned by the server.</p>
<p>The token should be sent in the <code>X-Auth-Token</code> header.</p>
<p>The <code>HTTP 401 Unauthorized</code> response must be expected for any API request. To correctly handle this response, the application must <a href="#refreshing-the-access-token">request a new access token</a> and retry the request.</p>
<h2 id="content-management">Content management</h2>
<h3 id="locales">Locales</h3>
<h4 id="list-locales">List locales</h4>
<p><code>GET /admin/locales</code></p>
<h4 id="get-locale-information">Get locale information</h4>
<p><code>GET /admin/locales/:id</code></p>
<h3 id="food-lists">Food lists</h3>
<h4 id="list-root-categories">List root categories</h4>
<p><code>GET /admin/browse/:locale/root-categories</code></p>
<h4 id="list-uncategorised-foods">List uncategorised foods</h4>
<p><code>GET /admin/browse/:locale/uncategorised-foods</code></p>
<h4 id="list-category-contents">List category contents</h4>
<p><code>GET  /admin/browse/:locale/:code</code></p>
<h4 id="get-food-parent-categories">Get food parent categories</h4>
<p><code>GET /admin/browse/:locale/food-parent-categories/:code</code></p>
<h4 id="get-all-categories-that-contain-a-food-transitive">Get all categories that contain a food (transitive)</h4>
<p><code>GET /admin/browse/:locale/food-all-categories/:code</code></p>
<h4 id="get-subcategory-parent-categories">Get subcategory parent categories</h4>
<p><code>GET /admin/browse/:locale/category-parent-categories/:code</code></p>
<h4 id="get-all-categories-that-contain-a-subcategory-transitive">Get all categories that contain a subcategory (transitive)</h4>
<p><code>GET /admin/browse/:locale/category-all-categories/:code</code></p>
<h4 id="check-if-a-food-code-is-available">Check if a food code is available</h4>
<p><code>GET /admin/foods/code-available/:code</code></p>
<h4 id="get-a-food-record-global-local">Get a food record (global + local)</h4>
<p><code>GET /admin/foods/:locale/:code</code></p>
<h4 id="create-a-new-food-record-global">Create a new food record (global)</h4>
<p><code>POST /admin/foods/new</code></p>
<h4 id="add-food-to-local-list">Add food to local list</h4>
<p><code>POST /admin/foods/add-to-locale</code></p>
<h4 id="create-a-new-food-record-local">Create a new food record (local)</h4>
<p><code>POST /admin/foods/new/:locale</code></p>
<h4 id="create-a-new-food-record-with-automatically-generated-code-global">Create a new food record with automatically generated code (global)</h4>
<p><code>POST /admin/foods/new-with-temp-code</code></p>
<h4 id="clone-a-food-record">Clone a food record</h4>
<p><code>POST /admin/foods/:locale/:code/clone</code></p>
<h4 id="clone-food-as-local">Clone food as local</h4>
<p><code>POST /admin/foods/:locale/:code/clone-as-local</code></p>
<h4 id="update-main-food-record">Update main food record</h4>
<p><code>POST /admin/foods/:code</code></p>
<h3 id="update-local-food-record">Update local food record</h3>
<p><code>POST /admin/foods/:locale/:code</code></p>
<h4 id="delete-food-record">Delete food record</h4>
<p><code>DELETE /admin/foods/:code</code></p>
<h4 id="check-if-a-category-code-is-available">Check if a category code is available</h4>
<p><code>GET /admin/categories/code-available/:code</code></p>
<h4 id="get-a-category-record-global-local">Get a category record (global + local)</h4>
<p><code>GET /admin/categories/:locale/:code</code></p>
<h4 id="create-a-new-category-global">Create a new category (global)</h4>
<p><code>POST /admin/categories/new</code></p>
<h4 id="update-a-category-record-global">Update a category record (global)</h4>
<p><code>POST /admin/categories/:code</code></p>
<h4 id="update-a-category-record-local">Update a category record (local)</h4>
<p><code>POST /admin/categories/:locale/:code</code></p>
<h4 id="delete-a-category-record">Delete a category record</h4>
<p><code>DELETE /admin/categories/:code</code></p>
<h3 id="associated-foods">Associated foods</h3>
<h4 id="get-associated-foods">Get associated foods</h4>
<p><code>GET /admin/associated-foods/:locale/:code</code></p>
<h4 id="update-associated-foods">Update associated foods</h4>
<p><code>POST /admin/associated-foods/:locale/:code</code></p>
<h3 id="dietary-feedback-rules">Dietary feedback rules</h3>
<h4 id="list-demographic-groups">List demographic groups</h4>
<p><code>GET /admin/demographic-groups</code></p>
<h4 id="create-a-new-demographic-group">Create a new demographic group</h4>
<p><code>POST /admin/demographic-groups</code></p>
<h4 id="update-a-demographic-group">Update a demographic group</h4>
<p><code>PATCH /admin/demographic-groups/:id</code></p>
<h4 id="get-demographic-group-data">Get demographic group data</h4>
<p><code>GET /admin/demographic-groups/:id</code></p>
<h4 id="delete-a-demographic-group">Delete a demographic group</h4>
<p><code>DELETE /admin/demographic-groups/:id</code></p>
<h4 id="create-a-demographic-group-scale-sector">Create a demographic group scale sector</h4>
<p><code>POST /admin/demographic-groups/:id/scale-sectors</code></p>
<h4 id="update-demographic-group-scale-sector">Update demographic group scale sector</h4>
<p><code>PATCH /admin/demographic-group-scale-sectors/:id</code></p>
<h4 id="delete-demographic-group-scale-sector">Delete demographic group scale sector</h4>
<p><code>DELETE /admin/demographic-group-scale-sectors/:id</code></p>
<h4 id="get-henry-coefficitents">Get Henry coefficitents</h4>
<p><code>GET /admin/henry-coefficients</code></p>
<h4 id="get-physical-activity-levels">Get physical activity levels</h4>
<p><code>GET /admin/physical-activity-levels</code></p>
<h4 id="get-weight-targets">Get weight targets</h4>
<p><code>GET /admin/weight-targets</code></p>
<h3 id="food-composition-tables">Food composition tables</h3>
<h4 id="list-food-composition-tables">List food composition tables</h4>
<p><code>GET /admin/nutrient-tables</code></p>
<h4 id="search-food-composition-table-records">Search food composition table records</h4>
<p><code>GET /admin/nutrient-tables/:nutrientTableId</code></p>
<h4 id="list-internal-nutrient-types">List internal nutrient types</h4>
<p><code>GET /admin/nutrient-types</code></p>
<h3 id="food-groups">Food groups</h3>
<h4 id="list-food-groups-for-locale">List food groups for locale</h4>
<p><code>GET /admin/food-groups/:locale</code></p>
<h4 id="get-food-group-description">Get food group description</h4>
<p><code>GET /admin/food-groups/:locale/:id</code></p>
<h3 id="source-high-resolution-image-management">Source (high resolution) image management</h3>
<h4 id="list-source-images">List source images</h4>
<p><code>GET /admin/images/source</code></p>
<h4 id="upload-a-source-image">Upload a source image</h4>
<p><code>POST /admin/images/source/new</code></p>
<h4 id="upload-a-source-image-for-as-served">Upload a source image for as-served</h4>
<p><code>POST /admin/images/source/new-as-served</code></p>
<h4 id="upload-a-source-image-for-an-image-map">Upload a source image for an image map</h4>
<p><code>POST /admin/images/source/new-image-map</code></p>
<h4 id="update-a-source-image">Update a source image</h4>
<p><code>PATCH /admin/images/source/:id</code></p>
<h4 id="delete-a-source-image">Delete a source image</h4>
<p><code>DELETE /admin/images/source/delete</code></p>
<h4 id="process-source-image-for-portion-size-method-selection-screen">Process source image for portion size method selection screen</h4>
<p><code>POST /admin/images/process-for-selection-screen</code></p>
<h3 id="portion-size-methods">Portion size methods</h3>
<h4 id="list-as-served-image-sets">List as served image sets</h4>
<p><code>GET /admin/portion-size/as-served</code></p>
<h4 id="get-as-served-set-record">Get as served set record</h4>
<p><code>GET /admin/portion-size/as-served/:id</code></p>
<h4 id="export-as-served-set-record-in-a-portable-format">Export as served set record in a portable format</h4>
<p><code>GET /admin/portion-size/as-served/:id/export</code></p>
<h4 id="import-as-served-set-record-from-a-portable-format">Import as served set record from a portable format</h4>
<p><code>POST /admin/portion-size/as-served/import</code></p>
<h4 id="create-new-as-served-set">Create new as served set</h4>
<p><code>POST /admin/portion-size/as-served/new</code></p>
<h4 id="create-new-as-served-set-from-existing-source-images">Create new as served set from existing source images</h4>
<p><code>POST /admin/portion-size/as-served/new-from-source</code></p>
<h4 id="update-as-served-set">Update as served set</h4>
<p><code>PUT /admin/portion-size/as-served/:id</code></p>
<h4 id="delete-as-served-set">Delete as served set</h4>
<p><code>DELETE /admin/portion-size/as-served/:id</code></p>
<h3 id="data-consistency-checks">Data consistency checks</h3>
<h4 id="check-food-record">Check food record</h4>
<p><code>GET /admin/foods/:locale/:code/problems</code></p>
<h4 id="check-category-record">Check category record</h4>
<p><code>GET /admin/categories/:locale/:code/problems</code></p>
<h4 id="check-category-recursively-including-all-subcategories-and-foods">Check category recursively (including all subcategories and foods)</h4>
<p><code>GET /admin/categories/:locale/:code/recursive-problems</code></p>
<h3 id="food-and-category-search">Food and category search</h3>
<h4 id="category-quick-search">Category quick search</h4>
<p><code>GET /admin/quick-search/:locale/categories/:term</code></p>
<h4 id="food-quick-search">Food quick search</h4>
<p><code>GET /admin/quick-search/:locale/foods/:term</code></p>
<h3 id="user-management">User management</h3>
<h4 id="find-users">Find users</h4>
<p><code>GET /</code></p>
<h4 id="create-user">Create user</h4>
<p><code>POST /</code></p>
<h4 id="delete-user">Delete user</h4>
<p><code>DELETE /:userId</code></p>
<h4 id="update-users-profile-name-e-mail-phone-etc.">Update user’s profile (name, e-mail, phone etc.)</h4>
<p><code>PATCH /:userId</code></p>
<h4 id="update-users-password">Update user’s password</h4>
<p><code>PATCH /:userId/password</code></p>
<h4 id="update-users-physical-data">Update user’s physical data</h4>
<p><code>PATCH /:userId/physical-data</code></p>
<h4 id="delete-multiple-users">Delete multiple users</h4>
<p><code>POST /delete</code></p>
<h4 id="request-password-reset">Request password reset</h4>
<p><code>POST /password-reset-request</code></p>
<h4 id="confirm-password-reset">Confirm password reset</h4>
<p><code>POST /reset-password</code> ### Survey management</p>
<h4 id="list-surveys">List surveys</h4>
<p><code>GET /</code></p>
<h4 id="validate-survey-id">Validate survey ID</h4>
<p><code>POST /validate-id</code></p>
<h4 id="create-survey">Create survey</h4>
<p><code>POST /</code></p>
<h4 id="get-survey-data">Get survey data</h4>
<p><code>GET /:surveyId</code></p>
<h4 id="update-survey">Update survey</h4>
<p><code>PATCH /:surveyId</code></p>
<h4 id="delete-survey">Delete survey</h4>
<p><code>DELETE /:surveyId</code></p>
<h4 id="add-roles-to-users-possibly-duplicated-no-relevance-to-survey">Add roles to users (possibly duplicated, no relevance to survey)</h4>
<p><code>POST /:surveyId/acl</code></p>
<h4 id="remove-roles-from-users-possibly-duplicated-no-relevance-to-survey">Remove roles from users (possibly duplicated, no relevance to survey)</h4>
<p><code>DELETE /:surveyId/acl</code></p>
<h3 id="survey-user-management">Survey user management</h3>
<h4 id="list-survey-staff-users">List survey staff users</h4>
<p><code>GET /:surveyId/users/staff</code></p>
<h4 id="create-or-update-staff-users">Create or update staff users</h4>
<p><code>POST /:surveyId/users/staff</code></p>
<h4 id="list-survey-respondent-users">List survey respondent users</h4>
<p><code>GET /:surveyId/users/respondents</code></p>
<h4 id="create-or-update-respondent-users">Create or update respondent users</h4>
<p><code>POST /:surveyId/users/respondents</code></p>
<h4 id="upload-respondent-users-from-csv">Upload respondent users from CSV</h4>
<p><code>POST /:surveyId/users/respondents/upload-csv</code></p>
<h4 id="upload-notification-schedule-csv">Upload notification schedule CSV</h4>
<p><code>POST /:surveyId/users/notifications/upload-csv</code></p>
<h4 id="delete-users-should-be-merged-with-global">Delete users (should be merged with global)</h4>
<p><code>DELETE /:surveyId/users</code></p>
<h4 id="create-respondent-user-with-physical-profile-age-weight-etc.">Create respondent user with physical profile (age, weight etc.)</h4>
<p><code>POST /:surveyId/users/respondents/with-physical-data</code></p>
<h2 id="user-facing-food-data">User-facing food data</h2>
<h3 id="food-search">Food search</h3>
<h4 id="find-food-by-description-regular-foods">Find food by description (regular foods)</h4>
<p><code>GET /foods/:locale/lookup</code></p>
<h4 id="find-food-by-description-recipe-ingredients">Find food by description (recipe ingredients)</h4>
<p><code>GET /foods/:locale/lookup-for-recipes</code></p>
<h4 id="find-food-by-description-limit-to-specific-category">Find food by description (limit to specific category)</h4>
<p><code>GET /foods:locale/lookup-in-category</code></p>
<h4 id="suggest-splitting-into-several-foods">Suggest splitting into several foods</h4>
<p><code>GET /foods/:locale/split-description</code></p>
<h3 id="food-browsing">Food browsing</h3>
<h4 id="list-root-categories-1">List root categories</h4>
<p><code>GET /categories/:locale</code></p>
<h4 id="get-category-contents">Get category contents</h4>
<p><code>GET /categories/:locale/:code</code></p>
<h3 id="portion-size-estimation">Portion size estimation</h3>
<h4 id="get-food-data-portion-size-estimation-methods">Get food data (portion size estimation methods)</h4>
<p><code>GET /foods/:locale/:code</code></p>
<h4 id="get-food-data-portion-size-estimation-methods-trace-data-source">Get food data (portion size estimation methods, trace data source)</h4>
<p><code>GET /foods/:locale/:code/with-sources</code></p>
<h4 id="get-brand-names">Get brand names</h4>
<p><code>GET /foods/:locale/:code/brand-names</code></p>
<h4 id="get-weight-type-in-portion-size-method-dummy">Get weight type-in portion size method (dummy)</h4>
<p><code>GET /portion-size/weight</code></p>
<h4 id="get-as-served-image-set-data">Get as served image set data</h4>
<p><code>GET /portion-size/as-served/:id</code></p>
<h4 id="get-multiple-as-served-image-sets-data">Get multiple as served image sets data</h4>
<p><code>POST /portion-size/as-served</code></p>
<h4 id="get-guide-image-data">Get guide image data</h4>
<p><code>GET /portion-size/guide-image/:id</code></p>
<h4 id="get-image-map-data">Get image map data</h4>
<p><code>GET /portion-size/image-maps/:id</code></p>
<h4 id="get-multiple-image-maps-data">Get multiple image maps data</h4>
<p><code>POST /portion-size/image-maps</code></p>
<h4 id="get-drinkware-set-data">Get drinkware set data</h4>
<p><code>GET /portion-size/drinkware/:id</code></p>
<h4 id="get-associated-foods-manual">Get associated foods (manual)</h4>
<p><code>GET /foods/:locale/:code/associated-foods</code></p>
<h4 id="get-associated-foods-automatic">Get associated foods (automatic)</h4>
<p><code>GET /foods/associated/:locale</code></p>
<h3 id="food-composition">Food composition</h3>
<h4 id="get-food-composition-data">Get Food composition data</h4>
<p><code>GET /foods/:locale/:code/composition</code></p>
<h3 id="dietary-feedback">Dietary feedback</h3>
<h4 id="get-five-a-day-feedback-rules">Get five a day feedback rules</h4>
<p><code>GET /feedback/five-a-day</code></p>
<h4 id="get-food-group-feedback-rules">Get food group feedback rules</h4>
<p><code>GET /feedback/food-groups</code></p>
<h2 id="user-profile-management">User profile management</h2>
<h4 id="update-your-users-profile">Update your user’s profile</h4>
<p><code>PATCH /my-profile</code></p>
<h4 id="get-your-users-physical-data-age-weight-etc.">Get your user’s physical data (age, weight, etc.)</h4>
<p><code>GET /my-physical-data</code></p>
<h4 id="update-your-users-physical-data-age-weight-etc.">Update your user’s physical data (age, weight, etc.)</h4>
<p><code>PATCH /my-physical-data</code></p>
<h2 id="analytics">Analytics</h2>
<h3 id="ux-event-tracking">UX event tracking</h3>
<h4 id="log-ux-event">Log UX event</h4>
<p><code>POST /event</code></p>
<h3 id="survey-data">Survey data</h3>
<h4 id="get-survey-parameters-no-authentication-requred">Get survey parameters (no authentication requred)</h4>
<p><code>GET /:surveyId/public-parameters</code></p>
<h4 id="get-dietary-feedback-style">Get dietary feedback style</h4>
<p><code>GET /:surveyId/feedback-style</code></p>
<h4 id="get-survey-parameters-authentication-required">Get survey parameters (authentication required)</h4>
<p><code>GET /:surveyId/parameters</code></p>
<h4 id="get-current-user-info">Get current user info</h4>
<p><code>GET /:surveyId/user-info</code></p>
<h4 id="get-post-recall-actions">Get post-recall actions</h4>
<p><code>GET /:surveyId/follow-up</code></p>
<h4 id="generate-user-if-allowed">Generate user (if allowed)</h4>
<p><code>POST /:surveyId/generate-user</code></p>
<h4 id="submit-recall">Submit recall</h4>
<p><code>POST /:surveyId/submissions</code></p>
<h4 id="request-phone-callback">Request phone callback</h4>
<p><code>POST /:surveyId/request-callback</code></p>
<h2 id="user-profile-management-1">User profile management</h2>
<h4 id="update-your-users-profile-1">Update your user’s profile</h4>
<p><code>PATCH /my-profile</code></p>
<h4 id="get-your-users-physical-data-age-weight-etc.-1">Get your user’s physical data (age, weight, etc.)</h4>
<p><code>GET /my-physical-data</code></p>
<h4 id="update-your-users-physical-data-age-weight-etc.-1">Update your user’s physical data (age, weight, etc.)</h4>
<p><code>PATCH /my-physical-data</code></p>
<h3 id="user-sessions">User sessions</h3>
<h4 id="get-server-side-session">Get server-side session</h4>
<p><code>GET /:surveyId/user-session</code></p>
<h4 id="update-server-side-session">Update server-side session</h4>
<p><code>POST /:surveyId/user-session</code></p>
<h4 id="delete-server-side-session">Delete server-side session</h4>
<p><code>DELETE /:surveyId/user-session</code></p>
<h2 id="analytics-1">Analytics</h2>
<h3 id="ux-event-tracking-1">UX event tracking</h3>
<h4 id="log-ux-event-1">Log UX event</h4>
<p><code>POST /event</code></p>
<h3 id="client-side-error-logging">Client-side error logging</h3>
<h4 id="submit-a-client-side-error-report">Submit a client-side error report</h4>
<p><code>POST /errors/report</code></p>
</body>
</html>
